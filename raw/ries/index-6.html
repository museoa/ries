<!DOCTYPE html>
<html lang="en">
<head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1"> <meta name="GENERATOR" content="Rilybot AROS" />
 <meta name="Author" content="Robert Munafo" />
 <meta name="format-detection" content="telephone=no">
 <link rel="search" type="application/opensearchdescription+xml" title="mrob" href="/opensearch.xml" />
 <meta name="keywords" content="RIES, Find, Algebraic, Equations, Given, Their, Solution" />
 <meta name="description" content="RIES - Find Algebraic Equations, Given Their Solution -- Explore a wide variety of topics from large numbers to sociology at mrob.com" />
 <meta name="x-rhtf-glname" content="ries" />
<link rel="shortcut icon" href="http://mrob.com/favicon.ico" />
<title> RIES - Find Algebraic Equations, Given Their Solution (page 6) at MROB </title>
<link rel="stylesheet" href="../../style.css" />
</head>

<body >
<div id="banner">
<div id="topnav">
<a href="../../pub/index.html">mrob</a>
&#8195;
<a href="index.html">RIES</a> <a href="../../pub/math/numbers.html">Numbers</a> <a href="../../pub/math/largenum.html">Largenum</a> <a href="../../pub/math/nu-sequences.html">Sequences</a> <a href="../../pub/muency.html">Mandelbrot</a>
&#8195;
<a href="../../pub/comp/xmorphia/index.html">Xmorphia</a>
</div>


<div id="search">
  <form action="http://www.google.com/search" style="margin:0; padding:0;">
  <label for="q">Search:</label>
  <input name="query" type="hidden" value="site:mrob.com" />
  <input style="font-family:Palatino" name="q" id="q" size="15" value="" />
  <input name="btnG" type="submit" value="Go" />
  </form>
</div>
</div>
<div style="clear:both;"></div>
<div id="content">
<h1>RIES - Find Algebraic Equations, Given Their Solution&#8195;&#8195;</h1><br /><p align="center"><a href="index.html">First page</a> . . . <a href="index-5.html">Back to page 5</a></p><br />
<p class="a"><h2 id="details">Details and Surprises</h2></p>

<p class="a">
This section goes into some more detail about how <span class="k">ries</span> works and
gives some examples of <span class="k">ries</span> results that might seem surprising.
</p>

<p class="a"><h3 id="alg_example">A Detailed Example of the RIES Algorithm</h3></p>

<p class="a">
For an illustrated introduction to the <span class="k">ries</span> algorithm, read the
<a href="index-2.html#algorithm">algorithm</a> section above.
</p>

<p class="a">

</p>

<p class="a">
To perform its bidirectional search, <span class="k">ries</span> builds up a list of
expressions, which is kept sorted in numerical order. These
expressions include constant expressions like "1+&#8730;<span style="text-decoration: overline">2</span>" and
"variable" expressions like "<span class="i">x</span><sup>2</sup>+1". If two different expressions
<span class="i">E</span><sub>1</sub> and <span class="i">E</span><sub>2</sub> happen to have the same value, then the equation
<span class="i">E</span><sub>1</sub>=<span class="i">E</span><sub>2</sub> might be a solution. That hardly ever happens, but
<span class="k">ries</span> also looks for cases where <span class="i">E</span><sub>1</sub> and <span class="i">E</span><sub>2</sub> have <span class="i">close</span> to
the same value. In such cases, the solution to the equation
<span class="i">E</span><sub>1</sub>=<span class="i">E</span><sub>2</sub> will be a number close to the user's specified target.
</p>

<p class="a">
Let us suppose that <span class="k">ries</span> has been given the target number
<span class="i">t</span>=2.5063. The first solution it finds is "2<span class="i">x</span>=5":
</p>

  <span class="p">
  ~# ries -p 2.5063
&#8195;
  Your target value: T = 2.5063                                 mrob.com/ries
&#8195;
                  2 x = 5                      for x = T - 0.0063      {49}
                  8 x = e^3                    for x = T + 0.00439212  {66}
                  x^2 = 2 pi                   for x = T + 0.000328275 {55}
                    . . .
  </span>
<p class="a">
Here is how <span class="k">ries</span> gets to that solution.
</p>

<p class="a">
Initially, the list of expressions is empty:
</p>

<p class="q">
  { }
</p>
<p class="a">

<span class="k">ries</span> starts with expressions involving <span class="i">t</span>. The simplest is just "<span class="i">t</span>", so
this is added to the list:
</p>

<p class="q">
  { <span style="border: solid; border-width: 1px; border-color: blue; color: green"><span class="i">t</span>=<span class="b">2.5063</span></span> }
</p>
<p class="a">

Expressions containing <span class="i">t</span> are "variable expressions", while those not
containing <span class="i">t</span> are "constant expressions". <span class="k">ries</span> wants to maintain a
list that is "balanced", in the sense that it contains an equal number
of both types of expressions.
</p>

<p class="a">
So, <span class="k">ries</span> finds the simplest constant expression, which is "1", and
adds it to the list:
</p>

<p class="q">
  { <span style="border: solid; border-width: 1px; border-color: blue; color: green">1=<span class="b">1.0000</span></span>, <span class="i">t</span>=<span class="b">2.5063</span> }
</p>
<p class="a">

The <span class="k">ries</span> goes back to expressions in <span class="i">t</span>, and finds two more. The
next-most-complicated expressions involving <span class="i">t</span> are 1/<span class="i">t</span> and
-<span class="i">t</span>. After adding these, the list has 4 elements:
</p>

<p class="q">
  { <span style="border: solid; border-width: 1px; border-color: blue; color: green">-<span class="i">t</span>=<span class="b">-2.5063</span></span>, <span style="border: solid; border-width: 1px; border-color: blue; color: green">1/<span class="i">t</span>=<span class="b">0.39899</span></span>, 1=<span class="b">1.0000</span>, <span class="i">t</span>=<span class="b">2.5063</span> }
</p>
<p class="a">

With 3 variable expressions and only one constant, the list is pretty
out-of-balance, so we need some constant expressions. <span class="k">ries</span>
adds 2 and &#960;:
</p>

<p class="q">
  { -<span class="i">t</span>=<span class="b">-2.5063</span>, 1/<span class="i">t</span>=<span class="b">0.39899</span>, 1=<span class="b">1.0000</span>, <span style="border: solid; border-width: 1px; border-color: blue; color: green">2=<span class="b">2.0000</span></span>, <span class="i">t</span>=<span class="b">2.5063</span>,
    <span style="border: solid; border-width: 1px; border-color: blue; color: green">&#960;=<span class="b">3.1415</span></span> }
</p>
<p class="a">

Then it adds the variable expressions <span class="i">t</span><sup>2</sup> and &#8730;<span style="text-decoration: overline"><span class="i">t</span></span>:
</p>

<p class="q">
  { -<span class="i">t</span>=<span class="b">-2.5063</span>, 1/<span class="i">t</span>=<span class="b">0.39899</span>, 1=<span class="b">1.0000</span>, <span style="border: solid; border-width: 1px; border-color: blue; color: green">&#8730;<span style="text-decoration: overline"><span class="i">t</span></span>=<span class="b">1.5831</span></span>,
    2=<span class="b">2.0000</span>, <span class="i">t</span>=<span class="b">2.5063</span>, &#960;=<span class="b">3.1415</span>, <span style="border: solid; border-width: 1px; border-color: blue; color: green"><span class="i">t</span><sup>2</sup>=<span class="b">6.2815</span></span> }
</p>
<p class="a">

And then <span class="k">ries</span> adds 3, <span class="i">e</span>, and 4:
</p>

<p class="q">
  { -<span class="i">t</span>=<span class="b">-2.5063</span>, 1/<span class="i">t</span>=<span class="b">0.39899</span>, 1=<span class="b">1.0000</span>, &#8730;<span style="text-decoration: overline"><span class="i">t</span></span>=<span class="b">1.5831</span>, 2=<span class="b">2.0000</span>,
    <span class="i">t</span>=<span class="b">2.5063</span>, <span style="border: solid; border-width: 1px; border-color: blue; color: green"><span class="i">e</span>=<span class="b">2.7182</span></span>, <span style="border: solid; border-width: 1px; border-color: blue; color: green">3=<span class="b">3.0000</span></span>, &#960;=<span class="b">3.1415</span>, <span style="border: solid; border-width: 1px; border-color: blue; color: green">4=<span class="b">4.0000</span></span>,
    <span class="i">t</span><sup>2</sup>=<span class="b">6.2815</span> }
</p>
<p class="a">

At this point we have 5 variable expressions (-<span class="i">t</span>, 1/<span class="i">t</span>, &#8730;<span style="text-decoration: overline"><span class="i">t</span></span>,
<span class="i">t</span>, and <span class="i">t</span><sup>2</sup>), and 6 constants for a total of 11 expressions in
the list. The closest match between two neighbouring items is between
<span class="i">t</span>=<span class="b">2.5063</span> and <span class="i">e</span>=<span class="b">2.7182</span>, but this isn't very close: it's off by
0.2119, which is an "error" of almost 10%.
</p>

<p class="a">
The next two expressions in <span class="i">t</span> to get added are ln(<span class="i">t</span>) and <span class="i">e<sup>t</sup></span>;
then <span class="k">ries</span> adds the constants 5 and -1:
</p>

<p class="q">
  { -<span class="i">t</span>=<span class="b">-2.5063</span>, <span style="border: solid; border-width: 1px; border-color: blue; color: green">-1=<span class="b">-1.0000</span></span>, 1/<span class="i">t</span>=<span class="b">0.39899</span>, <span style="border: solid; border-width: 1px; border-color: blue; color: green">ln(<span class="i">t</span>)=<span class="b">0.91880</span></span>,
    1=<span class="b">1.0000</span>, &#8730;<span style="text-decoration: overline"><span class="i">t</span></span>=<span class="b">1.5831</span>, 2=<span class="b">2.0000</span>, <span class="i">t</span>=<span class="b">2.5063</span>, <span class="i">e</span>=<span class="b">2.7182</span>,
    3=<span class="b">3.0000</span>, &#960;=<span class="b">3.1415</span>, 4=<span class="b">4.0000</span>, <span style="border: solid; border-width: 1px; border-color: blue; color: green">5=<span class="b">5.0000</span></span>, <span class="i">t</span><sup>2</sup>=<span class="b">6.2815</span>,
    <span style="border: solid; border-width: 1px; border-color: blue; color: green"><span class="i">e<sup>t</sup></span>=<span class="b">12.259</span></span> }
</p>
<p class="a">

Then <span class="i">t</span>+1, 1/-<span class="i">t</span>, &#934;, 6 and 7 are added:
</p>

<p class="q">
  { -<span class="i">t</span>=<span class="b">-2.5063</span>, -1=<span class="b">-1.0000</span>, <span style="border: solid; border-width: 1px; border-color: blue; color: green">1/-<span class="i">t</span>=<span class="b">-0.39899</span></span>, 1/<span class="i">t</span>=<span class="b">0.39899</span>,
    ln(<span class="i">t</span>)=<span class="b">0.91880</span>, 1=<span class="b">1.0000</span>, &#8730;<span style="text-decoration: overline"><span class="i">t</span></span>=<span class="b">1.5831</span>, <span style="border: solid; border-width: 1px; border-color: blue; color: green">&#934;=<span class="b">1.6180</span></span>,
    2=<span class="b">2.0000</span>, <span class="i">t</span>=<span class="b">2.5063</span>, <span class="i">e</span>=<span class="b">2.7182</span>, 3=<span class="b">3.0000</span>, &#960;=<span class="b">3.1415</span>,
    <span style="border: solid; border-width: 1px; border-color: blue; color: green"><span class="i">t</span>+1=<span class="b">3.5063</span></span>, 4=<span class="b">4.0000</span>, 5=<span class="b">5.0000</span>, <span style="border: solid; border-width: 1px; border-color: blue; color: green">6=<span class="b">6.0000</span></span>, <span class="i">t</span><sup>2</sup>=<span class="b">6.2815</span>,
    <span style="border: solid; border-width: 1px; border-color: blue; color: green">7=<span class="b">7.0000</span></span>, <span class="i">e<sup>t</sup></span>=<span class="b">12.259</span> }
</p>
<p class="a">

At this point there are 20 items in the list, and the closest match is
between &#8730;<span style="text-decoration: overline"><span class="i">t</span></span> and &#934;, which differ by 0.0349, or about 2% of
their magnitude. This is not close enough to be reported as a match by
<span class="k">ries</span>, but we're getting closer.
</p>

<p class="a"><span class="k">ries</span> next adds several expressions in <span class="i">t</span>, all of which are
considered "equally complex": <span class="i">t</span>-1, -<span class="i">t</span><sup>2</sup>, 1/<span class="i">t</span><sup>2</sup>, -&#8730;<span style="text-decoration: overline"><span class="i">t</span></span>,
and 1/&#8730;<span style="text-decoration: overline"><span class="i">t</span></span>:
</p>

<p class="q">
  { <span style="border: solid; border-width: 1px; border-color: blue; color: green">-<span class="i">t</span><sup>2</sup>=<span class="b">-6.2815</span></span>, -<span class="i">t</span>=<span class="b">-2.5063</span>, <span style="border: solid; border-width: 1px; border-color: blue; color: green">-&#8730;<span style="text-decoration: overline"><span class="i">t</span></span>=<span class="b">-1.5831</span></span>, -1=<span class="b">-1.0000</span>,
    1/-<span class="i">t</span>=<span class="b">-0.39899</span>, <span style="border: solid; border-width: 1px; border-color: blue; color: green">1/<span class="i">t</span><sup>2</sup>=<span class="b">0.15919</span></span>, 1/<span class="i">t</span>=<span class="b">0.39899</span>,
    <span style="border: solid; border-width: 1px; border-color: blue; color: green">1/&#8730;<span style="text-decoration: overline"><span class="i">t</span></span>=<span class="b">0.63166</span></span>, ln(<span class="i">t</span>)=<span class="b">0.91880</span>, 1=<span class="b">1.0000</span>, <span style="border: solid; border-width: 1px; border-color: blue; color: green"><span class="i">t</span>-1=<span class="b">1.5063</span></span>,
    &#8730;<span style="text-decoration: overline"><span class="i">t</span></span>=<span class="b">1.5831</span>, &#934;=<span class="b">1.6180</span>, 2=<span class="b">2.0000</span>, <span class="i">t</span>=<span class="b">2.5063</span>, <span class="i">e</span>=<span class="b">2.7182</span>,
    3=<span class="b">3.0000</span>, &#960;=<span class="b">3.1415</span>, <span class="i">t</span>+1=<span class="b">3.5063</span>, 4=<span class="b">4.0000</span>, 5=<span class="b">5.0000</span>,
    6=<span class="b">6.0000</span>, <span class="i">t</span><sup>2</sup>=<span class="b">6.2815</span>, 7=<span class="b">7.0000</span>, <span class="i">e<sup>t</sup></span>=<span class="b">12.259</span> }
</p>
<p class="a">

Then the constants 8, 9, -2 and 1/2:
</p>

<p class="q">
  { -<span class="i">t</span><sup>2</sup>=<span class="b">-6.2815</span>, -<span class="i">t</span>=<span class="b">-2.5063</span>, <span style="border: solid; border-width: 1px; border-color: blue; color: green">-2=<span class="b">-2.0000</span></span>, -&#8730;<span style="text-decoration: overline"><span class="i">t</span></span>=<span class="b">-1.5831</span>,
    -1=<span class="b">-1.0000</span>, 1/-<span class="i">t</span>=<span class="b">-0.39899</span>, 1/<span class="i">t</span><sup>2</sup>=<span class="b">0.15919</span>, 1/<span class="i">t</span>=<span class="b">0.39899</span>,
    <span style="border: solid; border-width: 1px; border-color: blue; color: green">1/2=<span class="b">0.50000</span></span>, 1/&#8730;<span style="text-decoration: overline"><span class="i">t</span></span>=<span class="b">0.63166</span>, ln(<span class="i">t</span>)=<span class="b">0.91880</span>, 1=<span class="b">1.0000</span>,
    <span class="i">t</span>-1=<span class="b">1.5063</span>, &#8730;<span style="text-decoration: overline"><span class="i">t</span></span>=<span class="b">1.5831</span>, &#934;=<span class="b">1.6180</span>, 2=<span class="b">2.0000</span>,
    <span class="i">t</span>=<span class="b">2.5063</span>, <span class="i">e</span>=<span class="b">2.7182</span>, 3=<span class="b">3.0000</span>, &#960;=<span class="b">3.1415</span>, <span class="i">t</span>+1=<span class="b">3.5063</span>,
    4=<span class="b">4.0000</span>, 5=<span class="b">5.0000</span>, 6=<span class="b">6.0000</span>, <span class="i">t</span><sup>2</sup>=<span class="b">6.2815</span>, 7=<span class="b">7.0000</span>,
    <span style="border: solid; border-width: 1px; border-color: blue; color: green">8=<span class="b">8.0000</span></span>, <span style="border: solid; border-width: 1px; border-color: blue; color: green">9=<span class="b">9.0000</span></span>, <span class="i">e<sup>t</sup></span>=<span class="b">12.259</span> }
</p>
<p class="a">

And then come <span class="i">t</span>+2 and 2<span class="i">t</span>:
</p>

<p class="q">
  { -<span class="i">t</span><sup>2</sup>=<span class="b">-6.2815</span>, -<span class="i">t</span>=<span class="b">-2.5063</span>, -2=<span class="b">-2.0000</span>, -&#8730;<span style="text-decoration: overline"><span class="i">t</span></span>=<span class="b">-1.5831</span>,
    -1=<span class="b">-1.0000</span>, 1/-<span class="i">t</span>=<span class="b">-0.39899</span>, 1/<span class="i">t</span><sup>2</sup>=<span class="b">0.15919</span>, 1/<span class="i">t</span>=<span class="b">0.39899</span>,
    1/2=<span class="b">0.50000</span>, 1/&#8730;<span style="text-decoration: overline"><span class="i">t</span></span>=<span class="b">0.63166</span>, ln(<span class="i">t</span>)=<span class="b">0.91880</span>, 1=<span class="b">1.0000</span>,
    <span class="i">t</span>-1=<span class="b">1.5063</span>, &#8730;<span style="text-decoration: overline"><span class="i">t</span></span>=<span class="b">1.5831</span>, &#934;=<span class="b">1.6180</span>, 2=<span class="b">2.0000</span>,
    <span class="i">t</span>=<span class="b">2.5063</span>, <span class="i">e</span>=<span class="b">2.7182</span>, 3=<span class="b">3.0000</span>, &#960;=<span class="b">3.1415</span>, <span class="i">t</span>+1=<span class="b">3.5063</span>,
    4=<span class="b">4.0000</span>, <span style="border: solid; border-width: 1px; border-color: blue; color: green"><span class="i">t</span>+2=<span class="b">4.5063</span></span>, 5=<span class="b">5.0000</span>, <span style="border: solid; border-width: 1px; border-color: blue; color: green">2<span class="i">t</span>=<span class="b">5.0126</span></span>, 6=<span class="b">6.0000</span>,
    <span class="i">t</span><sup>2</sup>=<span class="b">6.2815</span>, 7=<span class="b">7.0000</span>, 8=<span class="b">8.0000</span>, 9=<span class="b">9.0000</span>, <span class="i">e<sup>t</sup></span>=<span class="b">12.259</span> }
</p>
<p class="a">

When 2<span class="i">t</span> is added, 5 has already been in the list for a while. The
match between 5 and 2<span class="i">t</span> is 0.0126, which is closer than anything so
far. It is about 1/2 of one percent of the size of <span class="i">t</span>, or even less
than this when compared to the values of the expressions themselves.
</p>

<p class="a">
Given the possible match "2<span class="i">t</span>=5", <span class="k">ries</span> then solves the equation
2<span class="i">x</span>=5 for <span class="i">x</span> using the <a href="http://en.wikipedia.org/wiki/Newton%27s_method">Newton's method</a> iteration,
with an initial approximation <span class="i">x</span><sub>0</sub>=2.5063; this gives the solution <span class="i">x</span>=2.5.
The difference between this <a href="http://en.wikipedia.org/wiki/Zero_of_a_function">root</a> and the target
value <span class="i">t</span> is 2.5063-2.5=0.0063, which is about 1/4 of one percent.
This is good enough to be reported as the first match (the first
match must be closer than 1%).
</p>

<p class="a">
This match was found after putting a total of 31 expressions into the
list. Already the efficiency of this approach is clear: with 31
values, with an average spacing between values of (12.259+6.2815)/31
&asymp; 0.6, <span class="k">ries</span> found an equation that matches within 0.006 (100
times closer than 0.6).
</p>

<p class="a">
Now <span class="k">ries</span> "raises the bar": the existing solution 2<span class="i">x</span>=5 is the
standard to beat. It continues inserting more expressions until it
finds pairs of expressions that give even closer matches. It finds:
</p>

<p class="q">
  8<span class="i">t</span>=<span class="i">e</span><sup>3</sup> (off by 0.00439) when the list has 168 expressions,
</p>
<p class="a">

</p>
<p class="q">
  <span class="i">t</span><sup>2</sup>=2&#960; (off by 0.000328) when the list has 179 expressions,
</p>
<p class="a">

</p>
<p class="q">
  <span class="i">t<sup>t</sup></span>=1+9 (off by 0.000115) when the list has 241 expressions,
</p>
<p class="a">

and so on.
</p>

<p class="a">
This search technique is extremely efficient. After the step that
discovers the <span class="i">t<sup>t</sup></span>=1+9 solution, <span class="k">ries</span>'s list of expressions ends
up containing 119 expressions involving <span class="i">t</span> and 127 constant
expressions. These expressions can be combined in 119&times;127=15113
different ways to make equations, but <span class="k">ries</span> does not actually have to
check all 15113 equations to find the closest matches. Keeping the
expressions sorted in numerical order allows <span class="k">ries</span> to simply look at
the neigboring values in the list every time it adds something new.
For example, when it added 2<span class="i">t</span>=5.0126, the closest neighbours in the
list were the constant expressions 5 and 6. If there is going to be a
solution involving 2<span class="i">t</span>, the other side of the equation will either
have 5 or 6. Anything further away would be a poorer match.
</p>

<p class="a">
There is a lot that I haven't described here, like how <span class="k">ries</span> avoids
working with redundant expressions like 1-1 or <span class="i">x</span>/<span class="i">x</span>. Some of this
is described in the <a href="index.html#manual"><span class="k">ries</span> manual</a> and most of the rest is
fairly thoroughly covered by comments in the
<a href="index-2.html#source"><span class="k">ries</span> source code</a>.
</p>

<p class="a"><hr />
</p>

<p class="a"><h3 id="symbolset">Effects of Changing the Symbol Set</h3></p>

<p class="a">
The first few approximations to &#960; from the convergents of its
<a href="http://en.wikipedia.org/wiki/Continued_fraction">continued fraction</a> are:
</p>

<p class="q">
    3 + 1/7                  = 22/7    = 3.142857142... = &#960; + 0.00126448...
  <br />
 3 + 1/(7 + 1/15)         = 333/106 = 3.141509433... = &#960; - 8.32196..&times;10<sup>-5</sup>
  <br />
 3 + 1/(7 + 1/(15 + 1/1)) = 355/113 = 3.141592920... = &#960; + 2.66764..&times;10<sup>-7</sup>
</p>
<p class="a">

To find rational approximations of a number with <span class="k">ries</span> we can use the
<span class="b">-S</span> option to restrict the set of symbols that it uses. The <span class="m">-Ox</span>option must also be used to avoid a solution like <span class="m">x*x*x = 5*6+1</span>.</p>
<p class="i">
  A straightforward approach is <span class="m">-S123456789+-*/</span>, and many variantsare possible. The symbols <span class="m">n</span> (negate) and <span class="m">r</span> (reciprocal) could beadded, or some digits and symbols could be removed. In theory, any
fractional <span class="i">x</span> could be represented by the equation <span class="i">Nx</span>=<span class="i">D</span> where <span class="i">N</span>
and <span class="i">D</span> are integers, and since all integers can be derived by adding
1 to itself repeatedly, it is possible in theory to restrict the
symbol set to just 3 symbols with <span class="m">-S1+*</span>:</p>

  <span class="p">
  ries 3.141592653589 '-S1+*' -Ox -l4 --explicit-multiply
&#8195;
     Your target value: T = 3.141592653589                    mrob.com/ries
&#8195;
         (1+1+1)*(1+1)*x = (1+1+1)*(1+1+1)*(1+1)+1 for x = T + 0.025074    {207}
   ((1+1+1)*(1+1)+1)*x = ((1+1+1+1+1)*(1+1)+1)*(1+1) for x = T + 0.00126449 {235}
                    (for more results, use the option '-l5')
  </span>
<p class="a">
The two results are equivalent to <span class="i">x</span>=19/6 and <span class="i">x</span>=22/7.
</p>
<p class="i">
  Let's compare several <span class="k">ries</span> commands that give rational
approximations to &#960;. All are run to level 4 (using <span class="b">-l4</span>) and
equivalent solutions are shown side by side, along with the solution
of the equation as a reduced fraction.
</p>

<p class="q">
  <table><tr><td width="20px"></td><td><table border="1" cellspacing="0" cellpadding="2" hspace="30px">
<tr><td>
  <span class="b">ries 3.141592653589 -S123+/ -Ox -l4</span> </td><td> <span class="i">with</span> <span class="b">-S123456789+/</span>       </td><td> <span class="b">-S123456789+-*/</span>             </td><td> <span class="b">-S123456789+-*/nr</span>    </td><td> <span class="i">fraction</span>    </td><td> <span class="i">accuracy</span>
</td></tr><tr><td >
  x+1/3 = 1/2+3                         </td><td> x+1/3 = 7/2                  </td><td> x-3 = 1/6                      </td><td> x-3 = 1/6               </td><td> x = <span class="b">19/6</span>    </td><td> = &#960; + 0.025074
</td></tr><tr><td >
  x/(1/2+2) = 1/(1+3)+1                 </td><td> x/5 = 5/8                    </td><td>                                </td><td>                         </td><td> x =  25/8     </td><td> = &#960; - 0.0165927
</td></tr><tr><td >
  x+1/(2+3) = 1/3+3                     </td><td>                              </td><td>                                </td><td>                         </td><td> x =  47/15    </td><td> = &#960; - 0.008259321
</td></tr><tr><td >
  (x/2+1)/3 = 2/(1/3+2)                 </td><td> (x+2)/4 = 9/7                </td><td> x-3 = 1/7                      </td><td> x-3 = 1/7               </td><td> x = <span class="k">22/7</span>    </td><td> = &#960; + 0.00126449
</td></tr><tr><td >
  (x+1/3)/3 = 1/(1/3+3+3)+1             </td><td>                              </td><td>                                </td><td> 1/(x-3) = 1/8+7         </td><td> x = <span class="b">179/57</span>  </td><td> = &#960; - 0.00124178
</td></tr><tr><td >
                                        </td><td> x/(3/8) = 3/8+8              </td><td> 8(x-3) = 9/8                   </td><td> 1/(x-3) = 1/9+7         </td><td> x = <span class="b">201/64</span>  </td><td> = &#960; - 0.000967654
</td></tr><tr><td >
                                        </td><td>                              </td><td>                                </td><td> (x-2)/9 = 1/(8-1/9)     </td><td> x = <span class="b">223/71</span>  </td><td> = &#960; - 0.000747583
</td></tr><tr><td >
  x+(1/2)/3 = 1/(1/(1+3)+3)+3           </td><td>                              </td><td>                                </td><td>                         </td><td> x = <span class="b">245/78</span>  </td><td> = &#960; - 0.000567013
</td></tr><tr><td >
                                        </td><td>                              </td><td>                                </td><td> x-(1/5+2) = 2/(1/8+2)   </td><td> x = <span class="b">267/85</span>  </td><td> = &#960; - 0.000416183
</td></tr><tr><td >
                                        </td><td> x+(1/5)/5 = 7/(1/5+2)        </td><td>                                </td><td>                         </td><td> x = 864/275   </td><td> = &#960; + 0.000225528
</td></tr><tr><td >
                                        </td><td>                              </td><td>                                </td><td>                         </td><td> x = <span class="k">333/106</span> </td><td> = &#960; - 8.32196&times;10<sup>-5</sup>
</td></tr><tr><td >
  x/((1/2)/3+2) = 1/((2/3)/3+2)+1       </td><td> x/(1/4+7) = (1/6+2)/5        </td><td> 8(x-3) = 2/(3&times;5)+1           </td><td> 8(x-3) = 1/(1/2+7)+1    </td><td> x = 377/120   </td><td> = &#960; + 7.40131&times;10<sup>-5</sup>
</td></tr><tr><td >
                                        </td><td> x/(1/6+7) = 4/(1/8+9)        </td><td>                                </td><td>                         </td><td> x = 688/219   </td><td> = &#960; - 4.01422&times;10<sup>-5</sup>
</td></tr><tr><td >
                                        </td><td> x+2/(8+9) = (7/3)/9+3        </td><td> 9(x-3)-1 = 2/(2/7+7)           </td><td>                         </td><td> x = 1442/459  </td><td> = &#960; + 1.95468&times;10<sup>-5</sup>
</td></tr><tr><td >
                                        </td><td> (x+7/9)/9 = 3/(8/9+6)        </td><td> x-(2/9+3) = 5/(1-7*9)          </td><td>                         </td><td> x = 1753/558  </td><td> = &#960; - 1.55927&times;10<sup>-5</sup>
</td></tr><tr><td >
  x+(1/(1/2+3))/3 = (1/((1/3)/3+2))/2+3 </td><td> x+(2/3)/7 = 1/(2/9+4)+3      </td><td>                                </td><td>                         </td><td> x = 2507/798  </td><td> = &#960; + 1.13564&times;10<sup>-5</sup>
</td></tr><tr><td >
                                        </td><td>                              </td><td> (x-3)&times;7&times;7 = 7-1/(4&times;4)    </td><td>                         </td><td> x = 2463/784  </td><td> = &#960; - 1.10209&times;10<sup>-5</sup>
</td></tr><tr><td >
                                        </td><td>                              </td><td> (x-3)&times;8&times;8 = 1/(4&times;4)+9    </td><td>                         </td><td> x = 3217/1024 </td><td> = &#960; + 8.90891&times;10<sup>-6</sup>
</td></tr><tr><td >
                                        </td><td> x/((1/5)/5+2) = 3/2+(1/5)/5  </td><td>                                </td><td>                         </td><td> x = 3927/1250 </td><td> = &#960; + 7.34641&times;10<sup>-6</sup>
</td></tr><tr><td >
                                        </td><td> x+(4/5)/5 = (1/9+2)/7+3      </td><td>                                </td><td>                         </td><td> x = 4948/1575 </td><td> = &#960; - 5.352&times;10<sup>-6</sup>
</td></tr><tr><td >
                                        </td><td>                              </td><td> (x-3)&times;4&times;9 = 7/(8&times;9)+5    </td><td>                         </td><td> x = 8143/2592 </td><td> = &#960; - 3.14742&times;10<sup>-6</sup>
</td></tr><tr><td >
            <span class="i">requires -l6</span>              </td><td> (x+1)/(3/4+9) = 3/((1/2)/8+7)</td><td> (x-3)/(4&times;4) = 1/(2&times;7&times;8+1)</td><td> 1/(x-3)-2 = 1/(4&times;4)+5 </td><td> x = <span class="k">355/113</span> </td><td> = &#960; + 2.66765&times;10<sup>-7</sup>
  </td></tr></table></td></tr></table>
</p>
<p class="a">

Comparing the first two columns, we see that there are far more
results when the full set of digits can be used. Also, <span class="k">ries</span> reaches
the 355/113 solution in a level 4 search, whereas with <span class="b">-S123+/</span> it
requires a level 6 search to find that solution. This kind of makes
sense because more digits offer more possibilities.
</p>
<p class="i">
  If adding more digits increases the number of results, adding more
operations seems to do the opposite. Looking at columns 3 and 4, we
see fewer results when all four operations <span class="m">+-*/</span> are used, and evenfewer when using negate and reciprocal as well. Each time there are
also some new approximations that were not seen before.
</p>
<p class="i">
  In the <span class="i">fraction</span> column, the fractions are shown in <span class="b">bold</span> if they
are a
"<a href="http://en.wikipedia.org/wiki/Continued_fraction#Best_rational_approximations">best rational approximation</a>"
(are closer to &#960; than any other fraction with a smaller
denominator) and shown in <span class="k">black</span> if they are convergents of the
continued fraction for &#960;. (Contrary to common belief, the
convergents of the continued fraction do not include all of the best
rational approximations).
</p>

<p class="a"><hr />
</p>

<p class="a"><h3 id="links">Links</h3></p>

<p class="a">
Here I describe other resources on the Internet that solve the same
problem, or problems related to those solved by RIES.
</p>

<p class="a"><span class="k">Search Engines</span>
</p>

<p class="a">
If you have, say, 10 or more digits of a number it doesn't hurt to try
your favourite search engine. For example, consider
<a href="../../pub/math/numbers.html#l0_77245">0.77323954473516268</a>. RIES will tell you this is
4/&#960;-1/2, but if you didn't have RIES you could just put it into
Google, and remove digits one at a time from the end until you get
something. You'll soon learn that it is the answer to the "infinite
resistor network" problem in <a href="http://xkcd.com/356/">xkcd 356</a>.
</p>
<p class="i">
  When doing this sort of search, it also helps to try changing the
last digit a bit to see if roundoff occurred, or if someone else
rounded it the other way. For example, as of this writing I get a
relevant answer for 0.773239545 but not for 0.773239544. (After the
search engines re-index this page, that will change :-)
</p>

<p class="a"><span class="k">Normal Equation Solvers</span>
</p>

<p class="a">
If you want to check <span class="k">ries</span>'s answers, or get a more precise answer for
one of its solutions, you need a normal equation solver rather than
an <span class="k">ries</span>-like "inverse" equation solver.
</p>

<p class="a"><span class="b">Normal Equation Solver : QuickMath</span>
</p>

<p class="a"><a href="http://www.quickmath.com/webMathematica3/quickmath/equations/solve/advanced.jsp">QuickMath</a>
will solve unbalanced equations. For example, <span class="k">ries</span> with the target
number 6174 gives the following among its answers:
</p>

<p class="q">
   <span class="k">ries -i 6174</span> gives <span class="i">x</span>/7<sup>2</sup> = 5<sup>3</sup>+1
 <br />
 <span class="k">ries -r 6174</span> gives <span class="i">x</span>/(7*9) = 7*2*7
 <br />
 <span class="k">ries -a 6174</span> gives <span class="i">x</span>/(2*7) = (3*7)<sup>2</sup> (and <span class="i">x</span>/7<sup>4</sup> = 4/7+2)
</p>
<p class="a">

and an older version of <span class="k">ries</span> gave &#8730;<span style="text-decoration: overline"><span class="i">x</span>/(3*7)</span> = 7&#8730;<span style="text-decoration: overline">6</span>. These
are all equivalent, but you can make sure using QuickMath. All give
the solution <span class="i">x</span>=6174.
</p>

<p class="a"><span class="b">Normal Equation Solver : Wolfram Alpha</span>
</p>

<p class="a">
Of course, <a href="http://www.wolframalpha.com">Wolfram Alpha</a> can solve
equations and give high-precision values. For example, give it "x^2+e
= 9" and it will tell you the equation has two solutions,
<span class="i">x</span>=&#177;&#8730;<span style="text-decoration: overline">9-<span class="i">e</span></span>. Give it "sqrt(9-e)" and it will give you the value
to 50 or more digits.
</p>

<p class="a"><span class="k">MESearch</span>
</p>

<p class="a">
The "mathematical expression searcher"
<a href="http://www.xuru.org/mesearch/MESearch.asp">MESearch</a> by
<a href="http://www.xuru.org/Index.asp">"Xuru"</a> (Jon Zurutuza Salsamendi)
implements a bidirectional search algorithm quite different from that
of RIES, but achieving similar results. Unlike RIES it comes with many
more functions and constants built-in. It also runs in Java, so it is
not necessary to compile source code to use it, and it has a friendly
interactive user interface.
</p>

<p class="a"><span class="k">Inverse Symbolic Calculator</span>
</p>

<p class="a">
More serious mathematical users might prefer the
<a href="http://isc.carma.newcastle.edu.au/index">Inverse Symbolic Calculator</a>. (It is a bit lacking in
documentation, but this hint will help: It strives to match however
many digits you give. So if you get too many matches, supply one or
two more digits.)
</p>

<p class="a">
An earlier version of ISC, the
<a href="http://oldweb.cecm.sfu.ca/projects/ISC/ISCmain.html">original Inverse Symbolic Calculator</a>, is also available.
It has a "browsing" capability that might be better in certain situations.
</p>

<p class="a"><span class="b">ISC with fsolve Input</span>
</p>

<p class="a">
The older <a href="http://oldweb.cecm.sfu.ca/projects/ISC/ISCmain.html">Inverse Symbolic Calculator</a> accepts
<a href="http://en.wikipedia.org/wiki/Maple_%28software%29">Maple</a> expressions so long as they evaluate to a
number. For a simple example, the expression "<span class="m">Re((2+3*I)^(3/7))</span>" isapproximately 1.581184851...; and
<a href="http://oldweb.cecm.sfu.ca/cgi-bin/isc/lookup?number=Re%28%282%2B3*I%29%5E%283%2F7%29%29&lookup_type=simple">here is an ISC lookup</a>
with that expression.
</p>
<p class="i">
  You can use ISC to solve an equation and look up the result in the
ISC database. These examples use one form of the <span class="i">fsolve</span> function
with an explicit range to select which root is wanted. Put either of
these into the <a href="http://oldweb.cecm.sfu.ca/projects/ISC/ISCmain.html">ISC</a> input box:
</p>

<p class="q">
  <span class="m">fsolve(x-&gt;(sqrt(x/(3*7))-7*sqrt(6)),6173...6175);</span>  <br />
 <span class="i">equation based on "ries 6174" solution "sqrt(x/3*7) = 7*sqrt(6)"</span>
</p>
<p class="a">

</p>
<p class="q">
  <span class="m">fsolve(x-&gt;(x*x+E-9),2...3);</span>  <br />
 <span class="i">equation based on "ries 2.5063" solution "x^2+e = 9"</span>
</p>
<p class="a">

<span class="b">ISC Glossary</span>
</p>

<p class="a">
I have compiled a small glossary of constants and functions in ISC
results on my <a href="quibbles.html#isc_glos">ISC quibbles page</a>
</p>

<p class="a"><span class="k">Integer Relations (aka "PSLQ" or "LLL") Algorithms</span>
</p>

<p class="a">
With just two real numbers, like &#960; and <span class="i">e</span>, one can use
<a href="http://en.wikipedia.org/wiki/Continued_fractions">continued fractions</a> to find approximations to their ratio. For
example, &#960;/e = 1.1557273... &asymp; 141/122 = 1.1557<span class="b">377</span>... Treating
&#960; as the unknown and <span class="i">e</span> as a fundamental constant, and solving for
&#960; we get &#960; &asymp; 141<span class="i">e</span>/122. 141/122 is a member of a sequence of
approximations: 1/1, 7/6, 15/13, 37/32, ... that can be found
using the "continued fractions algorithm" which is more generally
referred to as the <a href="http://en.wikipedia.org/wiki/Euclidean_algorithm">Euclidean algorithm</a>.
</p>

<p class="a"><a href="http://en.wikipedia.org/wiki/Integer_relation_algorithm">Integer relation algorithm</a>s are an extension of the Euclidean
algorithm to more than two real numbers. That link describes the
history of their development, starting with the first by Ferguson and
Forcade in 1979.
</p>

<p class="a">
In <span class="k">PARI/GP</span> you can use the <span class="m">lindep</span> (linear dependency) function:</p>

  <span class="p">
  ? e = exp(1)
  %1 = 2.718281828459045235360287471
  ? phi = (1+sqrt(5))/2
  %2 = 1.618033988749894848204586834
  ? pi = Pi
  %3 = 3.141592653589793238462643383
  ? lindep([e, phi, Pi, 1], 6)
  %4 = [-8, -2, 14, -19]~
  ? lindep([e, phi, Pi, 1], 20)
  %5 = [16748, -45483, 2961, 18765]~
  </span>
<p class="a">
The first parameter should be a vector of real numbers, treated as
independent factors. The answer is a vector of integers [-8, -2, 14,
-19] such that its dot product with your supplied vector will come
within 6 digits (as chosen by the second parameter to <span class="m">lindep</span>) ofzero. In other words, PARI/GP has figured out that
-8<span class="i">e</span>-2&#934;+14&#960;-19 = 0 + <span class="i">O</span>(10<sup>-6</sup>). In fact it is about
-2.55&times;10<sup>-5</sup>.
</p>
<p class="i">
   If we solve for <span class="i">e</span> we get an approximation <span class="i">e</span> &asymp; -&#934;/4 +
7&#960;/4 - 19/8 = 2.7182<span class="b">786</span>... In the second example we get a
20-digit approximation; again solving for <span class="i">e</span> we get the approximation
<span class="i">e</span> &asymp; 45483&#934;/16748 - 2961&#960;/16748 - 18765/16748
= 2.7182818284590452353<span class="b">595</span>...
</p>

<p class="a"><span class="m">lindep</span> can also be used to find "multiplicative" solutions, usinglogarithms. Noting that 1 is the natural log of <span class="i">e</span>:
</p>

  <span class="p">
  ? lindep([1,log(phi),log(pi)],5)
  %6 = [-7, -14, 12]~
  </span>
<p class="a">
which tells us that -7 ln(<span class="i">e</span>) - 14 ln(&#934;) + 12 ln(&#960;) is
approximately zero, or equivalently <span class="i">e</span><sup>-7</sup> &#934;<sup>-14</sup> &#960;<sup>12</sup> is
approximately 1. Solving we get <span class="i">e</span> &asymp; &#960;<sup>12/7</sup> / &#934;<sup>2</sup> =
2.71820147...
</p>
<p class="i">
   Or, looking for a linear equation in which terms like "3&#960;&#934;"
or "&#960;<sup>2</sup>" are allowed:
</p>

  <span class="p">
  ? lindep([e, pi, phi, pi*phi, 1], 5)
  %7 = [5, 2, -6, -2, 0]~
  ? lindep([e, pi, phi, pi*pi, pi*phi, 1], 5)
  %8 = [3, -2, 1, -2, 3, 1]~
  </span>
<p class="a">
The first tells us that 5<span class="i">e</span> + 2&#960; - 6&#934; - 2&#960;&#934; is near
zero, and the second tells us that 3<span class="i">e</span> - 2&#960; + &#934; - 2&#960;<sup>2</sup> +
3&#960;&#934; + 1 is nearly zero.
</p>

<p class="a"><span class="k">Maple</span> has a function called "PSLQ()" that does something similar. At
one point in time, <span class="k">Mathematica</span> had a function called
"FindIntegerNullVector" to do this, but it is not available in
Wolfram|Alpha. However, <span class="k">Wolfram|Alpha</span> will try to find approximations
for any real number you give it, using a variety of methods. For
example, putting in
<a href="http://www.wolframalpha.com/input/?i=2.50618414558876926">2.50618414558876926</a>
I got the rational approximation 426654027/170240494, and a few
"possible closed forms" including 44945393&#960;/56340679 and "root of
4591<span class="i">x</span><sup>3</sup>-9737<span class="i">x</span><sup>2</sup>-3369<span class="i">x</span>-2667".
</p>

<p class="a">
Of course, if you just want to approximate &#934; using &#960;, you can't
beat (&#8730;<span style="text-decoration: overline">5&#960;²</span>+&#960;)/2&#960;. When using <span class="k">ries</span> to generate
approximations, you sometimes must exclude a lot more than the thing
you're approximating. My <a href="index-5.html#pi_day">Pi Day 2013</a> examples show some
techniques.
</p>

<p class="a"><span class="k">Vaguely-Related Resources</span>
</p>

<p class="a"><span class="b">Online Encyclopedia of Integer Sequences</span>
</p>

<p class="a">
The <a href="http://oeis.org">OEIS</a> is a wonderful resource, and although it
focuses mainly on integers, OEIS also includes some decimal
expansions, such as <a href="http://oeis.org/A1622">A1622</a>, the digits of <a href="../../pub/math/numbers-2.html#phi">phi</a>.
There are even some whimsical ones such as <span class="b">Jenny's constant</span>,
<a href="http://oeis.org/A182369">A182369</a>.
</p>

<p class="a"><span class="b">Inverse Graphing Calculator</span>
</p>

<p class="a">
This list would not be complete without mentioning the
<a href="http://www.xamuel.com/inverse-graphing-calculator.php?phrase=IGC">Inverse Graphing Calculator</a>.
You give it a set of letters and it produces an equation in <span class="i">x</span> and
<span class="i">y</span>, such that the locus of points {<span class="i">x</span>, <span class="i">y</span>} for which the equation
is true is a graphical representation of those letters. It works based
on the principle that <span class="i">f</span>()<span class="i">g</span>()=0 is true whenever either of the
functions <span class="i">f</span>() or <span class="i">g</span>() is zero, combined with the fact that any line
segment can be expressed in the form <span class="i">f</span>(<span class="i">x</span>,<span class="i">y</span>)=0.
</p>

<p class="a"><h3 id="see_also">See Also</h3></p>

<p class="a">
If you like <span class="k">ries</span>, you might also be amused by my web pages on
<a href="../../pub/math/numbers.html">numbers</a> and <a href="../../pub/math/largenum.html">large numbers</a>. There is also
<a href="../../pub/perl/hypercalc.html">Hypercalc</a> (the calculator that doesn't overflow) and
<a href="src/zeta.cpp.txt">this program</a>
which computes the <a href="http://en.wikipedia.org/wiki/Riemann_zeta_function">Riemann zeta function</a>
and turns the real and imaginary components into left and right audio
waveforms, so you can listen to the Zeta function on your stereo (it
actually sounds pretty good :-)
</p>

<p class="a">
Since it's sort of related, I'll also link to my discussion of
<a href="../../pub/math/algebra.html">algebraic manipulation</a>.
</p>

<p class="a">
This page is meant to counteract the forces of
<a href="../../pub/math/munafos_laws.html">Munafo's Laws of Mathematics</a>. If you see room for
improvement, let me know!
</p>

<p class="a"><hr />
</p>

<p class="a"><span class="b">References</span>
</p>

<p class="a">
[1] <a name="fn_ritt1923">
 </a>
 J. F. Ritt, <span class="i">On the Integrals of Elementary
Functions</span>, Transactions of the American Mathematical Society Vol.
25, No. 2 (Apr., 1923), pp. 211-222
</p>

<p class="a">
[2] <a name="fn_ritt1948">
 </a>
 J. Ritt, <span class="i">Integration in Finite Terms: Liouville’s
Theory of Elementary Models</span>, Columbia Univ. Press, 1948.
</p>

<p class="a">
[3] <a name="fn_newman1982">
 </a>
 Donald J. Newman, <span class="i">A Problem Seminar (Sources in the
History of Mathematics and Physical Sciences).</span>, 1982 (Springer).
ISBN 0387907653
</p>

<p class="a">
[4] <a name="fn_chow1998">
 </a>
 Timothy Y. Chow,
<span class="i"><a href="http://arxiv.org/abs/math/9805045v1">What is a closed-form number?</a></span>,
1998. At arXiv.org, <span class="m">arXiv:math/9805045</span>.</p>

<p class="a">
[5] <a name="fn_poole2010">
 </a>
 David Poole and Alan Mackworth,
<a href="http://artint.info/html/ArtInt_65.html">Bidirectional Search</a> (part
of their book <span class="i">Artificial Intelligence: Foundations of Computational
Agents</span>), 2010.
</p>

<p class="a"><hr />
</p>

<p class="a"><a name="linux">1. Linux rules !
</a>

</p><hr />
Contents: <a href="index.html#overview"><span class="k">ries</span> overview</a> <a href="index-2.html#bench">Benchmarks</a>
<a href="index-2.html#history">History</a> &#8195; <a href="index-3.html#tricks">Nerdy Math Tricks</a> &#8195;
<a href="index-4.html#serious">Semiserious Math Tricks</a> &#8195;
<a href="#links">Links and miscellaneous</a>

<br />
<br />
<hr>
<span class="footer">
<span class="s">Robert Munafo's home pages on <a href="http://www.hostmds.com">HostMDS</a> &#8195;
&copy; 1996-2020 Robert P. Munafo.</span>
<br />
 &#8195; <a href="../../pub/personal.html">about</a> &#8195; <a href="../../main-contact.html">contact</a>
<br />
<span class="s">This work is licensed under a Creative Commons
Attribution-NonCommercial 4.0 International License.
Details <a href="../../cc-license.html">here</a>.</span>
</span>
<img src="../../images/symbols/rbot-16.png" alt=""  ><span style="font-size: small">s.11</span><br /></div>
</body></html>
